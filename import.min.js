function url2Object(d){var e={href:d};return e.search=d.includes("?")?"?"+(a=d.split("?"),a.shift(),a.join("?")):"",e.hash=d.includes("#")?"#"+(a=d.split("#"),a.shift(),a.join("#")):"",e.search||e.hash||(e.search=location.search,e.hash=location.hash),d.includes("//")?(b=d.split("//"),e.protocol=b[0],e.host=b[1].split("/")[0],e.pathname=(c=b[1].split("/"),c.shift(),c=c.join("/"),c.split("?")[0].split("#")[0])):(e.host=d.split("/")[0],e.host?(e.protocol="https:",e.pathname="/"+(c=d.split("/"),c.shift(),c=c.join("/"),c.split("?")[0].split("#")[0])):(e.host=location.host,e.protocol=location.protocol,e.pathname=(c=location.pathname+d,c.split("?")[0].split("#")[0]))),e.host?(e.hostname=e.host,e.origin=e.protocol+"//"+e.host):e.hostname=e.origin="","/"!=e.pathname[0]&&(e.pathname="/"+e.pathname),e.port="",e.href=e.protocol+"//"+e.host+e.pathname+(e.search?e.search:e.hash),e.fileext=e.pathname.split("/")[e.pathname.split("/").length-1].includes(".")?"."+e.pathname.split("/")[e.pathname.split("/").length-1].split(".").pop():void 0,e}function importURL(d,e){e=e?e:{};var f=new Promise(function(d,e){return function(f,g){var h={URL:url2Object(d),options:e};xhr=new XMLHttpRequest,xhr.onreadystatechange=function(d,e,f,g,h){if(4==d.readyState&&200==d.status){switch(this.URL.fileext){case".js":this.response=h.runJSCode?new Function(d.response).bind(window)():d.response;break;default:this.response=d.response;}e(g)}else 4==d.readyState&&f(g)}.bind(h,xhr,f,g,h,e),xhr.open("GET",h.URL.href),xhr.send(),h.xhr=xhr}}(d,e));return f}
